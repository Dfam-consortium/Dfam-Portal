<dfam-loader [loading]="!family">

<div #outlet>
</div>

<h2>Coding Sequences <dfam-help-icon [tooltip]="help.coding_seqs"></dfam-help-icon></h2>
<mat-divider></mat-divider>

<div *ngIf="!family?.coding_seqs?.length">
No coding sequences recorded for this family.
</div>

<ul>
  <li *ngFor="let cs of family?.coding_seqs">
    <strong>Product:</strong> {{cs.product}}<br>
    <strong>Description:</strong> {{cs.description}}<br>
    <strong>Protein Type:</strong> {{cs.protein_type}}<br>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Translation</mat-panel-title>
      </mat-expansion-panel-header>

      <samp class="coding_seq">
      {{cs.translation}}
      </samp>
    </mat-expansion-panel>
    <strong>Frameshifts:</strong> {{cs.frameshifts}}<br>
    <strong>Stop codons:</strong> {{cs.stop_codons}}<br>
    <strong>Exons:</strong> {{cs.exon_count}}<br>
    <strong>CDS Range:</strong> {{cs.start}}-{{cs.end}}<br>
    <strong>Strand:</strong> {{cs.reverse ? '-' : '+'}}<br>
  </li>
</ul>

<h2>Features <dfam-help-icon [tooltip]="help.features"></dfam-help-icon></h2>
<mat-divider></mat-divider>

<div *ngIf="!family?.features?.length">
No features recorded for this family.
</div>

<ul>
  <li *ngFor="let feat of family?.features">
    <strong>Label:</strong> {{feat.label}}<br>
    <strong>Type:</strong> {{feat.type}}<br>
    <strong>Range:</strong> {{feat.model_start_pos}}-{{feat.model_end_pos}}<br>
    <strong>Description:</strong> {{feat.description}}<br>
    <strong>Attributes:</strong><br>
    <ul>
      <li *ngFor="let attr of feat.attributes">{{attr.attribute}}: {{attr.value}}</li>
    </ul>
  </li>
</ul>

</dfam-loader>
