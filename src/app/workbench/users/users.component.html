<div data-flex="100" data-flex-gt-sm="60" offset-gt-sm="20">

<h2>Users</h2>

<dfam-loader [loading]="loading">

<table mat-table class="wide" [dataSource]="users">
  <ng-container matColumnDef="expander">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let user"><button (click)="user.show_notes = !user.show_notes">{{user.show_notes ? 'v' : '&gt;'}}</button></td>
  </ng-container>
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let user">
      {{user.name}}
    </td>
  </ng-container>
  <ng-container matColumnDef="email">
    <th mat-header-cell *matHeaderCellDef>Email</th>
    <td mat-cell *matCellDef="let user">
      {{user.email}}
    </td>
  </ng-container>
  <ng-container matColumnDef="role">
    <th mat-header-cell *matHeaderCellDef>Role</th>
    <td mat-cell *matCellDef="let user">
      {{user.role}}
    </td>
  </ng-container>
  <ng-container matColumnDef="verified">
    <th mat-header-cell *matHeaderCellDef>Verified?</th>
    <td mat-cell *matCellDef="let user">
      {{user.verified ? "Yes" : "No"}}
    </td>
  </ng-container>
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>Actions</th>
    <td mat-cell *matCellDef="let user">
      <button type='button'
          *ngIf="user.role === 'applied'"
          (click)="approveSubmitter(user)"
      >
        Approve Submitter
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
  <tr mat-row *matRowDef="let user; columns: displayColumns"></tr>
</table>

</dfam-loader>

</div>
